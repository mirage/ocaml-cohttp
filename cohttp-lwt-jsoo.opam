# This file is generated by dune, edit dune-project instead
opam-version: "2.0"
synopsis: "CoHTTP implementation for the Js_of_ocaml JavaScript compiler"
description: """
An implementation of an HTTP client for JavaScript, but using the
CoHTTP types.  This lets you build HTTP clients that can compile
natively (using one of the other Cohttp backends such as `cohttp-lwt-unix`)
and also to native JavaScript via js_of_ocaml.
"""
maintainer: ["Anil Madhavapeddy <anil@recoil.org>"]
authors: [
  "Anil Madhavapeddy"
  "Stefano Zacchiroli"
  "David Sheets"
  "Thomas Gazagnaire"
  "David Scott"
  "Rudi Grinberg"
  "Andy Ray"
  "Anurag Soni"
]
license: "ISC"
homepage: "https://github.com/mirage/ocaml-cohttp"
doc: "https://mirage.github.io/ocaml-cohttp/"
bug-reports: "https://github.com/mirage/ocaml-cohttp/issues"
depends: [
  "dune" {>= "2.9"}
  "ocaml" {>= "4.08"}
  "cohttp" {= version}
  "cohttp-lwt" {= version}
  "logs"
  "lwt" {>= "3.0.0"}
  "lwt_ppx" {with-test}
  "conf-npm" {with-test}
  "js_of_ocaml" {>= "3.3.0"}
  "js_of_ocaml-ppx" {>= "3.3.0"}
  "js_of_ocaml-lwt" {>= "3.5.0"}
  "odoc" {with-doc}
]
build: [
  ["dune" "subst"] {dev}
  [
    "dune"
    "build"
    "-p"
    name
    "-j"
    jobs
    "--promote-install-files=false"
    "@install"
    "@runtest" {with-test}
    "@doc" {with-doc}
  ]
  ["dune" "install" "-p" name "--create-install-files" name]
]
dev-repo: "git+https://github.com/mirage/ocaml-cohttp.git"
